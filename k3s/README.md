## Rancher k3s installation on-demand  

```
 onctl up -n qwe -a k3s/k3s-server.sh --download /tmp/k3s.yaml
```
This will create the vm, install k3s and download the kubeconfig file to you local. Then; 

```
kubectl --kubeconfig k3s.yaml get po -A
```
OR 
```
export KUBECONFIG=$PWD/k3s.yaml
```
to directly set your KUBECONFIG

## Adding nodes to k3s  
Run the following command to join a vm to k3s cluster. 
```
onctl up -n qwe-node -a k3s/k3s-agent.sh -e SERVER_IP=<IP_OF_SERVER_NODE> -e TOKEN=<TOKEN>
```

k3s server **token** is random generated by the server script. which can be found on `/tmp/token`. 
